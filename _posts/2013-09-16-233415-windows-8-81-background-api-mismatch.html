---
title: "Windows 8/8.1 background API mismatch"
date: 2013-09-16T16:35:00Z
tags:
  - Windows
  - .NET
  - WinRT
category: none
layout: post
---
<p>While digging into some background stuff in WinRT I found some mismatch in API. It's not something that's completely different. Both APIs deal with some background operations, both having same prefix "Background" (although in different namespace). Have a look yourself.</p>

<!-- excerpt -->

<p>The first background operations is dealing with uploads and downloads. When you want to list all (in this case) background operations, you can call <a href="http://msdn.microsoft.com/en-US/library/windows/apps/br207128"><code>BackgroundDownloader.GetCurrentDownloadsAsync()</code></a>. This method returns <code>IAsyncOperation&lt;IReadOnlyList&gt;</code>. Aka it's asynchronous and it's a method.</p> 

<p>The other one is dealing with background tasks. And when you want to all background tasks, you can call <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.applicationmodel.background.backgroundtaskregistration.alltasks.aspx"><code>BackgroundTaskRegistration.AllTasks</code></a>. This method returns simple <code>IReadOnlyDictionary&lt;Guid, IBackgroundTaskRegistration&gt;</code>. Aka it's synchronous and it's a property.</p>

<p>Maybe I'm too pesky. But these are not that different from developer's point of view, isn't it? Why is then one method and other property? And why there's a mismatch between synchronous call and asynchronous call (though I <i>can</i> imagine one is reading just some application's related piece of memory while the other one is doing some call though system to some "background transfer service", but still ...)?</p>