---
title: "Shorter Firebird queries from Entity Framework"
date: 2012-03-29T15:58:52Z
tags:
  - Entity Framework
  - Entity SQL
  - Firebird
  - LINQ
category: none
layout: post
---
<p>Yesterday I <a href="{{ site.url }}{% post_url 2012-03-28-232764-ado-net-provider-for-firebird-2-7-5-released %}">released ADO.NET provider for Firebird version 2.7.5</a> and there's one feature I'd like to blog about. As you might know <a href="http://firebirdsql.org">Firebird</a> has a pretty old limitation on "size" of query. It's both the string itself, but also the column datatypes and parameters used. No need to dive to details, because I'll only talk about the first item.</p>

<p>When you're using <a href="http://msdn.microsoft.com/data/ef">Entity Framework</a> (or any other ORM) the query is generated by machine. And the machine (or maybe better to say algorithm) needs to be sure, that in <b>every</b> case the query is correct. That's the reason why you see a lot braces even if it's not needed in your case. A lot of table aliases, escaping, quoting and so on. It's not a simple task. But all these extra characters are making the query bigger. Consider that the the generated query isn't always the shortest (you could write it shorter because either you have some out-of-band knowledge about you database or simply because there's room for improvement) and all this "character noise" and you might hit the query length limit.</p>

<p>In the above mentioned version I made some improvements to table aliases. Instead of using full names from Entity Framework, I'm trying to use one character names (or +1, +2, +3, ... if I run out of 1, 2, 3, ... character names). So instead of (example)</p>

<pre class="brush:sql">
select Extent1.Foo, Extent1.Bar, Extent2.Baz from SomeTable as Extent1 join AnotherTable as Extent2 ...
</pre>

<p>you'll get</p>

<pre class="brush:sql">
select A.Foo, A.Bar, B.Baz from SomeTable as A join AnotherTable as B ...
</pre>

<p>Nothing super-cool, but because somebody suggested this in tracker, it's there. On the other hand to be honest I've never hit the query length limit myself. Maybe I'm lucky, maybe I'm writing too simple queries. But still, shorter query means also less data to be transfered. Hope to help to use Entity Framework and Firebird for big stuff. :)</p>