---
title: "EdmGen2 with EFv4"
date: 2010-02-14T21:08:54Z
tags:
  - .NET
  - Entity Framework
category: devel
layout: post
---
<a href="http://code.msdn.microsoft.com/EdmGen2">EdmGen2</a> is a nice tool. Especially if you know <a href="http://msdn.microsoft.com/en-us/library/bb387165.aspx">EdmGen</a> you may find it useful. I.e. you may <a href="{% post_url 2008-12-16-228787-make-your-entity-framework-model-faster-with-edmgen2 %}">speed up the start of you application by pregenerating views directly from EDMX file</a>.

Unfortunately if you try to use it with EFv4 it will crash. But we have sources, why not to fix the problem? And that's what I did.

First problem was with new namespaces the EFv4 EDMX file has. The new ones are:
<pre class="brush:csharp">
static string csdlNamespace = "http://schemas.microsoft.com/ado/2008/09/edm";
static string ssdlNamespace = "http://schemas.microsoft.com/ado/2009/02/edm/ssdl";
static string mslNamespace = "http://schemas.microsoft.com/ado/2008/09/mapping/cs";
</pre>

The next step is to switch the project to target .NET Framework 4, you can do it in project options. And finally check whether the references, especially System.Data.Entity.Design, where the <a href="http://msdn.microsoft.com/en-us/library/system.data.entity.design.aspx">interesting objects</a> are, are pointing to "4.0.0.0 versions" and correct if needed.

Done. Build and use. And if you want to have it without work, grab <a href="http://cid-bdb67deba4c656e5.skydrive.live.com/self.aspx/Ve%c5%99ejn%c3%a9/EdmGen2^_EF4/EdmGen2^_EF4.7z">this file with all changes already done</a> ;).
