---
title: "Coalescing operator with accessing object member access"
date: 2012-12-22T17:33:08Z
tags:
  - .NET
  - C#
  - Programming in general
category: none
layout: post
---
<p>Few days back <a href="http://rarous.net">Aleš Roubíček</a> wrote an interesting article about, basically, needless code. You can read it <a href="http://rarous.net/weblog/361-nepiste-zbytecny-kod.aspx">here</a>, though in Czech.</p>

<p>In one part he points to the coalescing operator <code>??</code> as being helpful while trying to write succinct code. And I agree. But also very often I need to not only coalesce the value itself, but, because we live with objects,  also access some member on the object itself. Small example.</p>

<pre class="brush:csharp">
var d = DateTimeOrNull();
int? x;
if (d.HasValue)
  x = ((DateTime)d).Minute;
else
  x = null;
</pre>

<p>This pattern I find having in my code very often. But it's hard to write it succinctly. Yes, I can use ternary operator <code>?:</code>, but I still need to use intermediate variable. Boring. Having a language construct for this case would be interesting. Actually I wrote myself simple extension method for that, but that's not the same as having it baked into the language.</p>

<p>I can imagine something like this (just shooting some syntax).</p>

<pre class="brush:csharp">
int? x = DateTimeOrNull() ? x => x.Minute ?? null;
</pre>

<p>Or am I only one thinking/bothering about this? :)</p>
