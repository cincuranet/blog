---
title: "New IStructuralEquatable, IStructuralComparable and StructuralComparisons"
date: 2009-07-04T12:08:16Z
tags:
  - .NET
  - C#
  - F#
redirect_from: /id/230692/
category: none
layout: post
---
<p>.NET Framework 4 comes with (among others) with two new interfaces. <a href="http://msdn.microsoft.com/en-us/library/system.collections.istructuralequatable(VS.100).aspx">IStructuralEquatable</a> and <a href="http://msdn.microsoft.com/en-us/library/system.collections.istructuralcomparable(VS.100).aspx">IStructuralComparable</a>. These are implemented (right now in Beta 1) by <a href="http://msdn.microsoft.com/en-us/library/system.array(VS.100).aspx">Array</a> and <a href="http://msdn.microsoft.com/en-us/library/system.tuple(VS.100).aspx">Tuple(s)</a>.</p>

<p>With this new implementations and <a href="http://msdn.microsoft.com/en-us/library/system.collections.structuralcomparisons(VS.100).aspx">StructuralComparisons</a>Â you can check arrays and tuples for structural equality (or compare these).</p>

<pre class="brush:csharp">
object[] o1 = new object[] { 1, "2" };
object[] o2 = new object[] { 1, "2" };

Console.WriteLine(o1.Equals(o2));
Console.WriteLine(o1.Equals(o2, StructuralComparisons.StructuralEqualityComparer));
</pre>

<p>The code above writes first false and then true. The first one is classic "old-school" Equals. Following line is using new structural comparison, thus the true as result. Neat, isn't it?</p>

<p>By the way, F# is now using these interfaces too.</p>