---
title: "MailAddress class is driving me crazy"
date: 2013-05-14T08:41:19Z
tags:
  - .NET
  - Best practice or not?
  - Email
category: none
layout: post
---
<p>I'm now working a lot with emails and email addresses. Loading, parsing and so on. Because of that I'm also using a <a href="http://msdn.microsoft.com/en-us/library/yh392kbs.aspx"><code>MailAddress</code></a> class a lot. And I hate it. The class, even simple, makes me want to scream.</p>

<!-- excerpt -->

<p>Consider simple code like this.</p>

<pre class="brush:csharp">
var mail1 = new MailAddress("mail@example.com");
var mail2 = new MailAddress("MAIL@example.com");
Console.WriteLine("Equals?:\t{0}", mail1.Equals(mail2));
Console.WriteLine("Equals?:\t{0}", mail2.Equals(mail1));
Console.WriteLine("GetHashCode1:\t{0}", mail1.GetHashCode());
Console.WriteLine("GetHashCode2:\t{0}", mail2.GetHashCode());
</pre>

<p>What do you think the output be? Drum roll please...</p> 

<pre class="brush:plain">
Equals?:        True
Equals?:        True
GetHashCode1:   582340455
GetHashCode2:   1045083261
</pre> 

<p>Why the hell somebody did the work overriding the <a href="http://msdn.microsoft.com/en-us/library/bsc2ak47.aspx"><code>Equals</code></a> and not providing the implementation of <a href="http://msdn.microsoft.com/en-us/library/system.object.gethashcode.aspx"><code>GetHashCode</code></a> that aligns with that?</p>

<p>I think it's time to implement my own. 8-)</p>
